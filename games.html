<!-- games.html -->
<head>
  <title>One Night Werewolf</title>
</head>

<body>
  <div class="container">
    <header>
      <h1>One Night Werewolf</h1>
      {{> loginButtons}}
    </header>

    <ul>
      <li class="flow-list-item">Users</li>
      {{#each users}}
        <li class="flow-list-item"> {{username}} </li>
      {{/each}}
    </ul>
    {{#if currentUser}}
      <button class="add-game">Create New Game</button>
      <ul>
        <li>List of Games</li>
        {{#each games}}
          <li>Game: {{text}}
          Moderator: TBD
          State: TBD
          Day Timer: TBD
          Players: TBD
          Observers: TBD
          </li>

          <li> 
          <button class="toggle-join"> {{#if isPlayingThisGame}}Leave Game{{else}}Join Game{{/if}} </button>
          <button class="start-game">Start Game</button> 
          <button class="delete-game">Delete Game</button> 
          </li>

          <!--
          <li class="flow-list-item"> Add Role: </li>
          {{#each all_roles}}
            <li class="flow-list-item"> <button class="add-role" data-game="{{../_id}}">{{name}}</button> </li>
          {{/each}}
          <li></li>
          -->
          <li> Players:
          {{#each players}}
            {{username}}
          {{/each}}
          </li>

          <li> Add Role:
          {{#each all_roles}}
            <button class="add-role" data-game="{{../_id}}">{{name}}</button>
          {{/each}}
          </li>

          <li>Current Roles:
          {{#each game_roles}}
            <button class="delete-role">{{name}}</button>
          {{/each}}
          </li>

          {{> seerNight}}
        {{/each}}
      </ul>
    {{/if}}
  </div>
</body>

<template name="user">
  <li> {{username}} </li>
</template>

<template name="seerNight">
  <li>Seer Night Actions: <br>
  You are the Seer. Pick One player to Peek, or 2 cards from the middle. <br>
  Players:
  {{#each players}}
    {{#if selectedPlayer}}
      <button class="seer-unsel-player" data-game="{{../_id}}">{{username}}</button>
    {{else}}
      <button class="seer-sel-player" data-game="{{../_id}}">{{username}}</button>
    {{/if}}
  {{/each}}
  {{#if selectedMiddle}}
    <button class="seer-unsel-middle">2 cards from the middle</button>
  {{else}}
    <button class="seer-sel-middle">2 cards from the middle</button>
  {{/if}}
  <br>
  <button class="seer-submit">Submit</button>
  </li>
</template>


